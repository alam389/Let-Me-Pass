<div class="dashboard-container">

<header>
 
  <button  mat-button (click)="navHome($event)"><h1>Let Me Pass</h1></button>
  
 
  <button mat-button  (click)="navPass($event)">Password Generator</button>


  <div class="header-controls">
    <div class="search-container">
      <div class="custom-search">
        <i class="material-icons">search</i>
        <input
          type="text"
          placeholder="Search passwords..."
          #filterInput
          (keyup)="applyFilter(filterInput.value)"
          aria-label="Search Passwords"
        >
      </div>
    </div>
    <button mat-button color="primary" (click)="logout()" routerLink="/login">Logout</button>
  </div>
</header>

<div class="table">
  
  <mat-card>
    <div class="card-header-content">
      <div>
        <h2>The Vault
          <i class="material-icons">lock</i>
        </h2>
      </div>
      <button mat-button color="accent" (click)="addPassword($event)">Add 
        <i class="material-icons">add</i>
      </button>
    </div>
    
    <mat-card-content>
      <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
        <!-- Icon Column -->
        <ng-container matColumnDef="icon">
          <td mat-cell *matCellDef="let element">
            <img [src]="getFaviconUrl(element.siteurl)" alt="Icon" class="favicon">
          </td>
        </ng-container>

        <!-- Sitename Column<ng-container matColumnDef="sitename">
          <td mat-cell *matCellDef="let element"> {{element.sitename}} </td>
        </ng-container> -->
        

        <!-- Siteurl Column -->
        <ng-container matColumnDef="siteurl">
          <td mat-cell *matCellDef="let element"> 
            <a [href]="element.siteurl" target="_blank" [innerHTML]="getDisplayUrl(element.siteurl)"></a>
          </td>
        </ng-container>
 <!-- Navigate Column -->
        <ng-container matColumnDef="navigate">
          <th mat-header-cell *matHeaderCellDef></th> <!-- Empty header for icon -->
          <td mat-cell *matCellDef="let element" class="navigate-cell">
            <mat-icon>navigate_next</mat-icon>
          </td>
        </ng-container>
        <tr mat-row 
            *matRowDef="let row; columns: displayedColumns;" 
            (click)="onRowClicked(row)" 
            style="cursor: pointer;">
        </tr>
      </table>
    </mat-card-content>
  </mat-card>
</div>
</div>